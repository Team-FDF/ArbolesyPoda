{% extends "base.html" %}

{% block title %}Nosotros{% endblock %}

{% block content %}
    <section class="hero-nosotros">
        <header class="header">
            <h2>Sobre Nosotros</h2>

            <p>En Árboles y Podas Chile, nos enorgullece ofrecer un servicio de paisajismo profesional y seguro, 
               que se adapta a las necesidades únicas de cada cliente. Nuestro enfoque se centra en crear entornos 
               verdes libres de riesgos.</p>
        </header>

        <!-- Flecha para bajar -->
        <div class="scroll-down">
            <a href="#galeria" id="scroll-btn">&#x25BC;</a>
        </div>
    </section>

    </section>

     <!-- Galería de fotos -->
    <section id="galeria" class="nosotros-section">
           
        <div class="galeria">
            <div class="imagen"><img src="../static/media/nosotros/extraccion_de_raices.jpg" alt="Extracción de raíces"></div>
            <div class="imagen"><img src="../static/media/nosotros/palmera_antes_de_realizar_trabajo_de_poda.jpg" alt="Palmera antes de realizar trabajo de poda"></div>
            <div class="imagen"><img src="../static/media/nosotros/poda_de_arboles_en_altura.jpg" alt="Poda de árboles en altura"></div>
            <div class="imagen"><img src="../static/media/nosotros/poda_de_palmera_en_altura.jpg" alt="Poda de palmera en altura"></div>
            <div class="imagen"><img src="../static/media/nosotros/poda_de_palmera.jpg" alt="Poda de palmera"></div>
            <div class="imagen"><img src="../static/media/nosotros/poda_de_palmeras.jpg" alt="Poda de palmeras"></div>
            <div class="imagen"><img src="../static/media/nosotros/poda_palmera_altura.jpg" alt="Poda palmera altura"></div>
            <div class="imagen"><img src="../static/media/nosotros/poda_de_arboless.webp" alt="Poda palmera altura"></div>
            <div class="imagen"><img src="../static/media/nosotros/palmera_poda.webp" alt="Poda palmera altura"></div>
       </div>
    </section>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
    const imagenes = document.querySelectorAll(".imagen");

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                let index = Array.from(imagenes).indexOf(entry.target);
                for (let i = index; i < index + 3 && i < imagenes.length; i++) {
                    imagenes[i].classList.add("visible");
                }
            }
        });
    }, { threshold: 0.3 });

    imagenes.forEach(img => observer.observe(img));
});
    </script>
    <script>

document.getElementById("scroll-btn").addEventListener("click", function(event) {
    event.preventDefault();

    let target = document.querySelector("#galeria").offsetTop; 
    let start = window.scrollY;
    let distance = target - start;
    let duration = 2000; 
    let startTime = null;

    function animation(currentTime) {
        if (startTime === null) startTime = currentTime;
        let timeElapsed = currentTime - startTime;
        let run = easeInOutQuad(timeElapsed, start, distance, duration);
        window.scrollTo(0, run);
        if (timeElapsed < duration) requestAnimationFrame(animation);
    }

    
    function easeInOutQuad(t, b, c, d) {
        t /= d/2;
        if (t < 1) return c/2*t*t + b;
        t--;
        return -c/2 * (t*(t-2) - 1) + b;
    }

    requestAnimationFrame(animation);
});

    </script>

{% endblock %}
